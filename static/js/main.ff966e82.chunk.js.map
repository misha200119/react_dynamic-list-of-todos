{"version":3,"sources":["enums/FilterToDosBy.ts","components/TodoList/TodoList.tsx","api/api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["FilterToDosBy","TodoList","React","memo","selectedUserId","setSelectedUserId","toDos","useState","filterTitlePattern","setFilterTitlePattern","visibleTodos","setVisibleTodos","all","filterCompletedToDos","setFilterCompletedToDos","isRandomized","setIsRandomized","filter","useCallback","pattern","toLowerCase","toDo","includePattern","title","includes","Number","completed","active","randomize","copyArr","i","length","j","Math","floor","random","useEffect","className","type","value","onChange","target","classNames","onClick","prevValue","map","checked","readOnly","userId","id","baseURL","getToDosFromAPI","a","fetch","response","json","getUserByIdFromServer","CurrentUser","clearSelectedUserId","isLoadingError","setLoadingError","currentUser","setCurrentUser","getUser","user","name","email","phone","App","setToDos","setIsLoadingError","getToDos","toDosFromServer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ff966e82.chunk.js","sourcesContent":["export enum FilterToDosBy {\n  all,\n  active,\n  completed,\n}\n","/* eslint-disable jsx-a11y/control-has-associated-label */\nimport React, { useCallback, useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport { FilterToDosBy } from '../../enums/FilterToDosBy';\nimport { ToDo } from '../../types/ToDo';\nimport './TodoList.scss';\n\ntype Props = {\n  selectedUserId: number,\n  setSelectedUserId: React.Dispatch<React.SetStateAction<number>>,\n  toDos: Array<ToDo>,\n};\n\nexport const TodoList: React.FC<Props> = React.memo(({\n  selectedUserId,\n  setSelectedUserId,\n  toDos,\n}) => {\n  const [filterTitlePattern, setFilterTitlePattern] = useState('');\n  const [visibleTodos, setVisibleTodos] = useState(toDos);\n  const [filterCompletedToDos, setFilterCompletedToDos]\n    = useState(FilterToDosBy.all);\n  const [isRandomized, setIsRandomized] = useState(false);\n\n  const filter = useCallback(() => {\n    const pattern = filterTitlePattern.toLowerCase();\n\n    setVisibleTodos(toDos.filter(toDo => {\n      const title = toDo.title.toLowerCase();\n      const includePattern = title.includes(pattern);\n\n      switch (Number(filterCompletedToDos)) {\n        case FilterToDosBy.all:\n          return includePattern;\n\n        case FilterToDosBy.completed:\n          return includePattern && toDo.completed === true;\n\n        case FilterToDosBy.active:\n          return includePattern && toDo.completed === false;\n\n        default:\n          return toDo;\n      }\n    }));\n  }, [filterTitlePattern, toDos, filterCompletedToDos]);\n\n  const randomize = useCallback(() => {\n    if (isRandomized) {\n      const copyArr = [...visibleTodos];\n\n      for (let i = copyArr.length - 1; i > 0; i -= 1) {\n        const j = Math.floor(Math.random() * (i + 1));\n\n        [copyArr[i], copyArr[j]] = [copyArr[j], copyArr[i]];\n      }\n\n      setVisibleTodos(copyArr);\n    } else {\n      filter();\n    }\n  }, [filterTitlePattern, toDos, filterCompletedToDos, isRandomized]);\n\n  useEffect(() => {\n    filter();\n    randomize();\n  }, [filterTitlePattern, toDos, filterCompletedToDos, isRandomized]);\n\n  return (\n    <div className=\"TodoList\">\n      <h2>Todos:</h2>\n\n      <div className=\"TodoList__Filter-options\">\n        <label>\n          Title contain:\n          <input\n            type=\"text\"\n            value={filterTitlePattern}\n            onChange={({ target }) => {\n              setFilterTitlePattern(target.value);\n            }}\n          />\n        </label>\n\n        <label>\n          Show only:\n          <select\n            value={filterCompletedToDos}\n            onChange={({ target }) => {\n              setFilterCompletedToDos(target.value as unknown as FilterToDosBy);\n            }}\n          >\n            <option value={FilterToDosBy.all}>\n              All\n            </option>\n\n            <option value={FilterToDosBy.active}>\n              Active\n            </option>\n\n            <option value={FilterToDosBy.completed}>\n              Completed\n            </option>\n          </select>\n        </label>\n\n        <button\n          className={classNames(\n            'button',\n            'TodoList__user-button',\n            {\n              'TodoList__user-button--selected':\n                isRandomized,\n            },\n          )}\n          type=\"button\"\n          onClick={() => {\n            setIsRandomized((prevValue) => !prevValue);\n          }}\n        >\n          Randomize\n        </button>\n      </div>\n\n      <div className=\"TodoList__list-container\">\n        <ul className=\"TodoList__list\">\n          {visibleTodos.map(toDo => (\n            <li\n              className={classNames(\n                'TodoList__item',\n                {\n                  'TodoList__item--unchecked': !toDo.completed,\n                  'TodoList__item--checked': toDo.completed,\n                },\n              )}\n              key={toDo.id}\n            >\n              <label>\n                <input\n                  type=\"checkbox\"\n                  checked={toDo.completed}\n                  readOnly\n                />\n                <p>{toDo.title}</p>\n              </label>\n\n              <button\n                className={classNames(\n                  'button',\n                  'TodoList__user-button',\n                  {\n                    'TodoList__user-button--selected':\n                      toDo.userId === selectedUserId,\n                  },\n                )}\n                type=\"button\"\n                onClick={() => {\n                  setSelectedUserId(toDo.userId);\n                }}\n              >\n                User&nbsp;#\n                {toDo.userId}\n              </button>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n});\n","import { ToDo } from '../types/ToDo';\nimport { User } from '../types/User';\n\nconst baseURL = 'https://mate.academy/students-api';\n\nexport const getToDosFromAPI = async (): Promise<Array<ToDo>> => {\n  const response = await fetch(`${baseURL}/todos`);\n\n  return response.json();\n};\n\nexport const getUserByIdFromServer = async (id: number): Promise<User> => {\n  const response = await fetch(`${baseURL}/users/${id}`);\n\n  return response.json();\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { User } from '../../types/User';\nimport { getUserByIdFromServer } from '../../api/api';\nimport './CurrentUser.scss';\n\ntype Props = {\n  selectedUserId: number;\n  clearSelectedUserId: () => void;\n};\n\nexport const CurrentUser: React.FC<Props>\n= React.memo(({ selectedUserId, clearSelectedUserId }) => {\n  const [isLoadingError, setLoadingError] = useState(false);\n  const [currentUser, setCurrentUser] = useState<User | null>(null);\n\n  const getUser = useCallback(async () => {\n    try {\n      const user = await getUserByIdFromServer(selectedUserId);\n\n      setLoadingError(false);\n      setCurrentUser(user);\n    } catch {\n      setLoadingError(true);\n      setCurrentUser(null);\n    }\n  }, [selectedUserId]);\n\n  useEffect(() => {\n    getUser();\n  }, [selectedUserId]);\n\n  return (\n    <>\n      { !isLoadingError && currentUser ? (\n        <div className=\"CurrentUser\">\n          <h2 className=\"CurrentUser__title\">\n            <span>\n              Selected user:\n              {currentUser.id}\n            </span>\n          </h2>\n\n          <h3 className=\"CurrentUser__name\">\n            {currentUser.name}\n          </h3>\n\n          <p className=\"CurrentUser__email\">\n            {currentUser.email}\n          </p>\n\n          <p className=\"CurrentUser__phone\">\n            {currentUser.phone}\n          </p>\n          <button\n            className=\"CurrentUser__btn-clear\"\n            type=\"button\"\n            onClick={clearSelectedUserId}\n          >\n            Clear\n          </button>\n        </div>\n      )\n        : (\n          <div className=\"CurrentUser\">\n            <h2 className=\"CurrentUser__title\">\n              <span>Loading Error</span>\n            </h2>\n\n            <h3 className=\"CurrentUser__name\">\n              No user data\n            </h3>\n          </div>\n        )}\n    </>\n  );\n});\n","import React, { useEffect, useState } from 'react';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { ToDo } from './types/ToDo';\nimport { getToDosFromAPI } from './api/api';\n\nimport './App.scss';\nimport './styles/general.scss';\n\nconst App: React.FC<{}> = () => {\n  const [\n    selectedUserId,\n    setSelectedUserId,\n  ] = useState(0);\n  const [toDos, setToDos] = useState<Array<ToDo>>([]);\n  const [isLoadingError, setIsLoadingError] = useState(false);\n\n  const getToDos = async () => {\n    try {\n      const toDosFromServer = await getToDosFromAPI();\n\n      setToDos(toDosFromServer);\n      setIsLoadingError(false);\n    } catch {\n      setToDos([]);\n      setIsLoadingError(true);\n    }\n  };\n\n  const clearSelectedUser = () => {\n    setSelectedUserId(0);\n  };\n\n  useEffect(() => {\n    getToDos();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <div className=\"App__sidebar\">\n        {!isLoadingError ? (\n          <TodoList\n            toDos={toDos}\n            setSelectedUserId={setSelectedUserId}\n            selectedUserId={selectedUserId}\n          />\n        )\n          : (\n            <>\n              <h2>\n                Loading Error\n              </h2>\n              <h3>\n                No toDos data\n              </h3>\n            </>\n          )}\n      </div>\n\n      <div className=\"App__content\">\n        <div className=\"App__content-container\">\n          {selectedUserId ? (\n            <CurrentUser\n              selectedUserId={selectedUserId}\n              clearSelectedUserId={clearSelectedUser}\n            />\n          ) : 'No user selected'}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}